[32m2025-05-13 19:27:58.227[0m | [1mINFO    [0m | [36mapp.common.logging[0m:[36msetup_logging[0m:[36m25[0m - [1mLoguru logging is configured.[0m
INFO:     Started server process [61435]
2025-05-13 19:27:58,680 INFO Started server process [61435] [trace_id=- span_id=-]
INFO:     Waiting for application startup.
2025-05-13 19:27:58,681 INFO Waiting for application startup. [trace_id=- span_id=-]
/gateway/openapi.json {'HEAD', 'GET'}
/gateway/docs {'HEAD', 'GET'}
/docs/oauth2-redirect {'HEAD', 'GET'}
/gateway/redoc {'HEAD', 'GET'}
/gateway/auth/imgplt/auths {'GET'}
/gateway/file/imgplt/sqls {'GET'}
/gateway/file/imgplt/s3/{file_path:path} {'GET'}
/gateway/file/imgplt/zips {'GET'}
/gateway/file/topics/{topic} {'POST'}
/gateway/file/imgplt/aliases {'GET'}
/gateway/file/upload/file-meta/{topic} {'POST'}
/gateway/data/topics {'GET'}
/gateway/data/topics/{table} {'POST'}
/gateway/data/imgplt/curs {'POST'}
/gateway/data/imgplt/sqls {'POST'}
/gateway/log/event {'POST'}
/gateway/imgplt/log-test {'GET'}
/gateway/imgplt/test-trace {'GET'}
/gateway/data/imgplt/curs {'POST'}
/gateway/ping {'GET'}
/gateway/file/ping {'GET'}
/gateway/data/ping {'GET'}
/gateway/log/ping {'GET'}
[32m2025-05-13 19:27:58.681[0m | [1mINFO    [0m | [36mapp.domains.gateway.main[0m:[36mon_startup[0m:[36m110[0m - [1mGateway service started.[0m
[32m2025-05-13 19:27:58.681[0m | [1mINFO    [0m | [36mapp.domains.gateway.main[0m:[36mon_startup[0m:[36m111[0m - [1m[gateway] AUTH_MODE=local[0m
[32m2025-05-13 19:27:58.681[0m | [1mINFO    [0m | [36mapp.domains.gateway.main[0m:[36mon_startup[0m:[36m113[0m - [1m[gateway] AUTH_LOCAL_TOKEN=dev-token[0m
INFO:     Application startup complete.
2025-05-13 19:27:58,681 INFO Application startup complete. [trace_id=- span_id=-]
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-05-13 19:27:58,682 INFO Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit) [trace_id=- span_id=-]
[32m2025-05-13 19:28:29.878[0m | [1mINFO    [0m | [36mapp.domains.log.services.common.middleware[0m:[36mdispatch[0m:[36m21[0m - [1m[access] GET /gateway/health | path=http://localhost:8000/gateway/health | trace_id=5a503615df9ff77dea845175ad0bf9fc | span_id=210d12c967466471[0m
INFO:     127.0.0.1:56067 - "GET /gateway/health HTTP/1.1" 404 Not Found
{
    "name": "HTTP GET /gateway/health",
    "context": {
        "trace_id": "0x5a503615df9ff77dea845175ad0bf9fc",
        "span_id": "0x210d12c967466471",
        "trace_state": "[]"
    },
    "kind": "SpanKind.INTERNAL",
    "parent_id": null,
    "start_time": "2025-05-13T10:28:29.878351Z",
    "end_time": "2025-05-13T10:28:29.883111Z",
    "status": {
        "status_code": "UNSET"
    },
    "attributes": {},
    "events": [],
    "links": [],
    "resource": {
        "attributes": {
            "telemetry.sdk.language": "python",
            "telemetry.sdk.name": "opentelemetry",
            "telemetry.sdk.version": "1.30.0",
            "service.name": "filedepot-service"
        },
        "schema_url": ""
    }
}
[32m2025-05-13 19:28:37.011[0m | [1mINFO    [0m | [36mapp.domains.log.services.common.middleware[0m:[36mdispatch[0m:[36m21[0m - [1m[access] GET /gateway/docs | path=http://localhost:8000/gateway/docs | trace_id=76c01267b0e12c53637b7171c4f11875 | span_id=2635b00448030b6d[0m
INFO:     127.0.0.1:56084 - "GET /gateway/docs HTTP/1.1" 200 OK
{
    "name": "HTTP GET /gateway/docs",
    "context": {
        "trace_id": "0x76c01267b0e12c53637b7171c4f11875",
        "span_id": "0x2635b00448030b6d",
        "trace_state": "[]"
    },
    "kind": "SpanKind.INTERNAL",
    "parent_id": null,
    "start_time": "2025-05-13T10:28:37.011895Z",
    "end_time": "2025-05-13T10:28:37.012803Z",
    "status": {
        "status_code": "UNSET"
    },
    "attributes": {},
    "events": [],
    "links": [],
    "resource": {
        "attributes": {
            "telemetry.sdk.language": "python",
            "telemetry.sdk.name": "opentelemetry",
            "telemetry.sdk.version": "1.30.0",
            "service.name": "filedepot-service"
        },
        "schema_url": ""
    }
}
[32m2025-05-13 19:28:43.866[0m | [1mINFO    [0m | [36mapp.domains.log.services.common.middleware[0m:[36mdispatch[0m:[36m21[0m - [1m[access] GET /gateway/data/topics | path=http://localhost:8000/gateway/data/topics | trace_id=93a220a0061f0e41f26899268c680a33 | span_id=9108220621bc7479[0m
[ServiceClient] Request: GET http://localhost:8002/topics | kwargs={'headers': {}}
[ServiceClient][ERROR] Attempt 1/3: All connection attempts failed | type=<class 'httpx.ConnectError'>
[ServiceClient][ERROR] Attempt 2/3: All connection attempts failed | type=<class 'httpx.ConnectError'>
[ServiceClient][ERROR] Attempt 3/3: All connection attempts failed | type=<class 'httpx.ConnectError'>
[ServiceClient][FAIL] Final failure for GET http://localhost:8002/topics
INFO:     127.0.0.1:56100 - "GET /gateway/data/topics HTTP/1.1" 500 Internal Server Error
{
    "name": "HTTP GET /gateway/data/topics",
    "context": {
        "trace_id": "0x93a220a0061f0e41f26899268c680a33",
        "span_id": "0x9108220621bc7479",
        "trace_state": "[]"
    },
    "kind": "SpanKind.INTERNAL",
    "parent_id": null,
    "start_time": "2025-05-13T10:28:43.866072Z",
    "end_time": "2025-05-13T10:28:44.572895Z",
    "status": {
        "status_code": "ERROR"
    },
    "attributes": {
        "http.status_code": 500,
        "http.exception.detail": ""
    },
    "events": [],
    "links": [],
    "resource": {
        "attributes": {
            "telemetry.sdk.language": "python",
            "telemetry.sdk.name": "opentelemetry",
            "telemetry.sdk.version": "1.30.0",
            "service.name": "filedepot-service"
        },
        "schema_url": ""
    }
}
